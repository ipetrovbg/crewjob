(function(){  var app = angular.module('crewjob');    var projectsCtrl = function($scope, projectServices, categoriesServices){        $scope.busy = false;        projectServices.getAll()            .success(function(response){                //console.log(response);                if(response.status){                    $scope.Projects = response.all_projects;                    $scope.loadMoreProjects = function(){                        if ($scope.busy) return;                            $scope.busy = true;                        var last = $scope.Projects[$scope.Projects.length - 1];                        projectServices.getLimitProjects(last.id)                            .success(function(response){                                if(response.limited_projects){                                    for(var i = 0; i < response.limited_projects.length; i++ ){                                        $scope.Projects.push(response.limited_projects[i]);                                    }                                    $scope.busy = false;                                }                            }).error(function(reason){                        });                    };                    //$scope.$emit('list:filtered');                }            }).error(function(reason){            console.log(reason);        });        categoriesServices.getAll()            .success(function(response){                $scope.categories = response.categories;                angular.element(document).find('#cat').dropdown();                //$("#cat").on("change", function() {                //    var value = $(this).val();                //    console.log(value);                //});            }).error(function(reason){            console.log(reason);        });    };    app.controller('projectsCtrl', projectsCtrl );}());