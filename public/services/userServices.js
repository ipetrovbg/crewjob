(function(){    var app = angular.module('crewjob');    var userServices = function($http){        var getUser = function(userId){            return $http({                url: base_url + '/getUser',                method: 'POST',                params: {                    userId: userId                }            }).success(function(response){                return response.data;            }).error(function(promise){                return promise;            });        };        var getUserSmallInfo = function(userId){            return $http({                url: base_url + '/get-user-info',                method: 'POST',                params: {                    userId: userId                }            }).success(function(response){                return response.data;            }).error(function(promise){                return promise;            });        };        var rate = function(uid, pid, rating){            return $http({                url: base_url + '/user-rate',                method: 'POST',                params: {                    uid: uid,                    pid: pid,                    rating: rating                }            }).success(function(response){                return response.data;            }).error(function(promise){                return promise;            });        };        var sendMessage = function(receiver, message){            return $http({                url: base_url + '/send-message',                method: 'POST',                params: {                    receiver: receiver,                    message: message                }            }).success(function(response){                return response.data;            }).error(function(promise){                return promise;            });        };        var getAllMessages = function(){            return $http({                url: base_url + '/get-all-messages',                method: 'POST'            }).success(function(response){                return response.data;            }).error(function(promise){                return promise;            });        };        var getMessage = function(id){            return $http({                url: base_url + '/get-message',                method: 'POST',                params: {                    id: id                }            }).success(function(response){                return response.data;            }).error(function(promise){                return promise;            });        };        var updateMsgStatus = function(id, author){            return $http({                url: base_url + '/update-msg-status',                method: 'POST',                params: {                    id: id,                    author: author                }            }).success(function(response){                return response.data;            }).error(function(promise){                return promise;            });        };        return {            getUser: getUser,            getUserSmallInfo: getUserSmallInfo,            rate: rate,            sendMessage: sendMessage,            getAllMessages: getAllMessages,            getMessage: getMessage,            updateMsgStatus: updateMsgStatus        };    };    app.factory('userServices', userServices);}());